"use strict";var cov_2k99fv0lio=function(){var path="C:\\Users\\m1048223\\Documents\\Nodejs 301 project\\NodeJS-301-project\\OrderManagement\\src\\app\\controllers\\view-order.js";var hash="32cb211a028563940142c094dde0ba3aad689757";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\m1048223\\Documents\\Nodejs 301 project\\NodeJS-301-project\\OrderManagement\\src\\app\\controllers\\view-order.js",statementMap:{"0":{start:{line:1,column:42},end:{line:1,column:97}},"1":{start:{line:1,column:117},end:{line:1,column:178}},"2":{start:{line:1,column:191},end:{line:1,column:222}},"3":{start:{line:2,column:13},end:{line:2,column:30}},"4":{start:{line:3,column:13},end:{line:3,column:51}},"5":{start:{line:4,column:13},end:{line:4,column:41}},"6":{start:{line:6,column:64},end:{line:16,column:94}},"7":{start:{line:6,column:133},end:{line:16,column:91}},"8":{start:{line:6,column:144},end:{line:16,column:90}},"9":{start:{line:7,column:10},end:{line:7,column:30}},"10":{start:{line:8,column:10},end:{line:8,column:25}},"11":{start:{line:9,column:10},end:{line:9,column:45}},"12":{start:{line:10,column:10},end:{line:10,column:66}},"13":{start:{line:11,column:10},end:{line:11,column:28}},"14":{start:{line:11,column:28},end:{line:16,column:14}},"15":{start:{line:12,column:12},end:{line:12,column:50}},"16":{start:{line:12,column:23},end:{line:12,column:50}},"17":{start:{line:14,column:12},end:{line:14,column:34}},"18":{start:{line:15,column:12},end:{line:15,column:53}},"19":{start:{line:16,column:21},end:{line:16,column:48}},"20":{start:{line:16,column:66},end:{line:16,column:89}},"21":{start:{line:19,column:0},end:{line:19,column:28}}},fnMap:{"0":{name:"viewOrders",decl:{start:{line:6,column:9},end:{line:6,column:19}},loc:{start:{line:6,column:30},end:{line:16,column:95}},line:6},"1":{name:"viewOrders$",decl:{start:{line:6,column:110},end:{line:6,column:121}},loc:{start:{line:6,column:132},end:{line:16,column:92}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:11,column:198},end:{line:11,column:199}},loc:{start:{line:11,column:228},end:{line:16,column:11}},line:11}},branchMap:{"0":{loc:{start:{line:6,column:144},end:{line:16,column:90}},type:"switch",locations:[{start:{line:6,column:184},end:{line:16,column:14}},{start:{line:16,column:14},end:{line:16,column:48}},{start:{line:16,column:48},end:{line:16,column:55}},{start:{line:16,column:55},end:{line:16,column:89}}],line:6},"1":{loc:{start:{line:12,column:12},end:{line:12,column:50}},type:"if",locations:[{start:{line:12,column:12},end:{line:12,column:50}},{start:{line:12,column:12},end:{line:12,column:50}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0,0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"32cb211a028563940142c094dde0ba3aad689757"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_2k99fv0lio.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));var _regenerator=(cov_2k99fv0lio.s[1]++,_interopRequireDefault(require("@babel/runtime/regenerator")));var order=(cov_2k99fv0lio.s[2]++,require("../model/order-model"));var moment=(cov_2k99fv0lio.s[3]++,require('moment'));var filter=(cov_2k99fv0lio.s[4]++,require("../controllers/query-helper"));var logger=(cov_2k99fv0lio.s[5]++,require("../config/winston"));function viewOrders(req,res){cov_2k99fv0lio.f[0]++;var restName,obj,d,viewOrders;cov_2k99fv0lio.s[6]++;return _regenerator["default"].async(function viewOrders$(_context){cov_2k99fv0lio.f[1]++;cov_2k99fv0lio.s[7]++;while(1){cov_2k99fv0lio.s[8]++;switch(_context.prev=_context.next){case 0:cov_2k99fv0lio.b[0][0]++;cov_2k99fv0lio.s[9]++;restName=req.body;cov_2k99fv0lio.s[10]++;obj=req.body;cov_2k99fv0lio.s[11]++;d=String(obj.date).split("T")[0];// {$in: restName.restaurentId} split("T")[0]; 
cov_2k99fv0lio.s[12]++;console.log('bodyValue',obj,d,restName.restaurentId);//filter(req) bodyValue ['5df58aa133832d8b58c9790d' , '5df5a6faf59998720c390e27']
cov_2k99fv0lio.s[13]++;_context.next=6;cov_2k99fv0lio.s[14]++;return _regenerator["default"].awrap(order.find({restaurentId:{$in:restName.restaurentId},date:{"$gte":new Date(d),$lt:new Date(moment(d).add(1,"days"))}},function(error,filterValue){cov_2k99fv0lio.f[2]++;cov_2k99fv0lio.s[15]++;if(error){cov_2k99fv0lio.b[1][0]++;cov_2k99fv0lio.s[16]++;throw Error(error.message);}else{cov_2k99fv0lio.b[1][1]++;}//logger.error("please enter valid value");
cov_2k99fv0lio.s[17]++;res.send(filterValue);cov_2k99fv0lio.s[18]++;logger.info("orders views successfully");}));case 6:cov_2k99fv0lio.b[0][1]++;cov_2k99fv0lio.s[19]++;viewOrders=_context.sent;case 7:cov_2k99fv0lio.b[0][2]++;case"end":cov_2k99fv0lio.b[0][3]++;cov_2k99fv0lio.s[20]++;return _context.stop();}}});}cov_2k99fv0lio.s[21]++;module.exports=viewOrders;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctb3JkZXIuanMiXSwibmFtZXMiOlsib3JkZXIiLCJyZXF1aXJlIiwibW9tZW50IiwiZmlsdGVyIiwibG9nZ2VyIiwidmlld09yZGVycyIsInJlcSIsInJlcyIsInJlc3ROYW1lIiwiYm9keSIsIm9iaiIsImQiLCJTdHJpbmciLCJkYXRlIiwic3BsaXQiLCJjb25zb2xlIiwibG9nIiwicmVzdGF1cmVudElkIiwiZmluZCIsIiRpbiIsIkRhdGUiLCIkbHQiLCJhZGQiLCJlcnJvciIsImZpbHRlclZhbHVlIiwiRXJyb3IiLCJtZXNzYWdlIiwic2VuZCIsImluZm8iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoibUxBQUEsSUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBckI7QUFDQSxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCO0FBQ0EsSUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsNkJBQUQsQ0FBdEI7QUFDQSxJQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxtQkFBRCxDQUF0Qjs7QUFFQSxTQUFlSSxVQUFmLENBQTBCQyxHQUExQixFQUErQkMsR0FBL0I7QUFDUUMsVUFBQUEsUUFEUixHQUNtQkYsR0FBRyxDQUFDRyxJQUR2QjtBQUVRQyxVQUFBQSxHQUZSLEdBRWNKLEdBQUcsQ0FBQ0csSUFGbEI7QUFHUUUsVUFBQUEsQ0FIUixHQUdZQyxNQUFNLENBQUNGLEdBQUcsQ0FBQ0csSUFBTCxDQUFOLENBQWlCQyxLQUFqQixDQUF1QixHQUF2QixFQUE0QixDQUE1QixDQUhaLEVBR2dEO0FBQzlDQyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxXQUFaLEVBQXlCTixHQUF6QixFQUErQkMsQ0FBL0IsRUFBa0NILFFBQVEsQ0FBQ1MsWUFBM0MsRUFKRixDQUkyRTtBQUozRSxpRUFLMkJqQixLQUFLLENBQUNrQixJQUFOLENBQVcsRUFBRUQsWUFBWSxFQUFDLEVBQUNFLEdBQUcsRUFBRVgsUUFBUSxDQUFDUyxZQUFmLEVBQWYsRUFBNkNKLElBQUksRUFBQyxFQUFDLFFBQVEsSUFBSU8sSUFBSixDQUFTVCxDQUFULENBQVQsRUFBc0JVLEdBQUcsRUFBRSxJQUFJRCxJQUFKLENBQVNsQixNQUFNLENBQUNTLENBQUQsQ0FBTixDQUFVVyxHQUFWLENBQWMsQ0FBZCxFQUFpQixNQUFqQixDQUFULENBQTNCLEVBQWxELEVBQVgsRUFBOEgsVUFBQ0MsS0FBRCxFQUFRQyxXQUFSLEVBQXdCO0FBQzdLLGdCQUFJRCxLQUFKLEVBQVcsTUFBTUUsS0FBSyxDQUFDRixLQUFLLENBQUNHLE9BQVAsQ0FBWDtBQUNYO0FBQ0FuQixZQUFBQSxHQUFHLENBQUNvQixJQUFKLENBQVNILFdBQVQ7QUFDQXBCLFlBQUFBLE1BQU0sQ0FBQ3dCLElBQVAsQ0FBWSwyQkFBWjtBQUNELFdBTHdCLENBTDNCLFNBS1F2QixVQUxSOzs7QUFhQXdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnpCLFVBQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbTEwNDgyMjNcXERvY3VtZW50c1xcTm9kZWpzIDMwMSBwcm9qZWN0XFxOb2RlSlMtMzAxLXByb2plY3RcXE9yZGVyTWFuYWdlbWVudFxcc3JjXFxhcHBcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3JkZXIgPSByZXF1aXJlKFwiLi4vbW9kZWwvb3JkZXItbW9kZWxcIik7XHJcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xyXG5jb25zdCBmaWx0ZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvcXVlcnktaGVscGVyXCIpO1xyXG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKFwiLi4vY29uZmlnL3dpbnN0b25cIik7XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2aWV3T3JkZXJzKHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgcmVzdE5hbWUgPSByZXEuYm9keTsgXHJcbiAgY29uc3Qgb2JqID0gcmVxLmJvZHk7ICAgXHJcbiAgY29uc3TCoGTCoD3CoFN0cmluZyhvYmouZGF0ZSkuc3BsaXQoXCJUXCIpWzBdOyAgICAgLy8geyRpbjogcmVzdE5hbWUucmVzdGF1cmVudElkfSBzcGxpdChcIlRcIilbMF07IFxyXG4gIGNvbnNvbGUubG9nKCdib2R5VmFsdWUnLCBvYmogLCBkLCByZXN0TmFtZS5yZXN0YXVyZW50SWQpOyAgICAgICAgICAgICAgICAvL2ZpbHRlcihyZXEpIGJvZHlWYWx1ZSBbJzVkZjU4YWExMzM4MzJkOGI1OGM5NzkwZCcgLCAnNWRmNWE2ZmFmNTk5OTg3MjBjMzkwZTI3J11cclxuICBjb25zdCB2aWV3T3JkZXJzID0gYXdhaXQgb3JkZXIuZmluZCh7IHJlc3RhdXJlbnRJZDp7JGluOiByZXN0TmFtZS5yZXN0YXVyZW50SWR9LCBkYXRlOntcIiRndGVcIjrCoG5ld8KgRGF0ZShkKSzCoCRsdDrCoG5ld8KgRGF0ZShtb21lbnQoZCkuYWRkKDEswqBcImRheXNcIikpfX0sIChlcnJvciwgZmlsdGVyVmFsdWUpID0+IHtcclxuICAgIGlmIChlcnJvcikgdGhyb3cgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAvL2xvZ2dlci5lcnJvcihcInBsZWFzZSBlbnRlciB2YWxpZCB2YWx1ZVwiKTtcclxuICAgIHJlcy5zZW5kKGZpbHRlclZhbHVlKTtcclxuICAgIGxvZ2dlci5pbmZvKFwib3JkZXJzIHZpZXdzIHN1Y2Nlc3NmdWxseVwiKVxyXG4gIH0pO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHZpZXdPcmRlcnM7XHJcblxyXG4gXHJcbiJdfQ==